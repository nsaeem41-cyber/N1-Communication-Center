<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ØªØ­ÙƒÙ… N1 Ø§Ù„Ø´Ø§Ù…Ù„ ğŸ˜Š</title>
    <style>
        body { font-family: sans-serif; background: #1a1a1a; color: #d4af37; text-align: center; }
        .box { border: 2px solid #d4af37; padding: 20px; border-radius: 20px; max-width: 900px; margin: 20px auto; background: #222; }
        table { width: 100%; border-collapse: collapse; color: white; margin-top: 15px; }
        th, td { border: 1px solid #444; padding: 10px; font-size: 13px; }
        th { color: #d4af37; }
        button { background: #d4af37; color: #000; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer; font-weight: bold; margin: 10px; }
    </style>
</head>
<body>

<div class="box">
    <h1>Ù„ÙˆØ­Ø© Ø¥Ø¯Ø§Ø±Ø© Ø­Ø¨Ø© Ø§Ù„Ø³ÙƒØ± Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ© ğŸ˜Š</h1>
    <button onclick="fetchData()">ØªØ­Ø¯ÙŠØ« ÙˆØ¹Ø±Ø¶ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙˆØ±Ø§Ù‹ ğŸ”„</button>
    <div id="loader" style="display:none; color:white;">Ø¬Ø§Ø±ÙŠ Ø³Ø­Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø³Ø­Ø§Ø¨Ø©...</div>
    <table>
        <thead>
            <tr>
                <th>Ø§Ù„Ø§Ø³Ù… / Ø§Ù„Ù…Ù†Ø´Ø£Ø©</th>
                <th>Ø§Ù„Ù…ÙˆÙ‚Ø¹ / Ø§Ù„ÙŠÙˆØ²Ø±</th>
                <th>Ø§Ù„Ø£Ø¬Ø±Ø© / Ø§Ù„Ø¨Ø§Ù‚Ø©</th>
                <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                <th>Ø¥Ø¬Ø±Ø§Ø¡</th>
            </tr>
        </thead>
        <tbody id="b"></tbody>
    </table>
</div>

<script>
    const API = 'https://sheetdb.io/api/v1/qzfkwfzcpbrsm';

    async function fetchData() {
        const b = document.getElementById('b');
        const l = document.getElementById('loader');
        l.style.display = 'block'; b.innerHTML = '';
        try {
            const res = await fetch(API);
            const data = await res.json();
            l.style.display = 'none';
            data.reverse().forEach(item => {
                // Ù‡Ø§Ø¯ Ø§Ù„Ø³Ø·Ø± Ù‡Ùˆ Ø§Ù„Ù„ÙŠ Ø±Ø­ ÙŠØ¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† ÙƒÙ„ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø¨Ø°ÙƒØ§Ø¡ ğŸ˜Š
                let name = item.name || item.user || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';
                let info = item.location || item.phone || '-';
                let cost = item.delivery || item.expiry || '-';
                let status = item.status || 'Ù†Ø´Ø·';
                
                b.innerHTML += `<tr>
                    <td style="color:#d4af37;">${name}</td>
                    <td>${info}</td>
                    <td>${cost}</td>
                    <td>${status}</td>
                    <td><button onclick="del('${item.id}')" style="background:#e74c3c; color:white; padding:5px;">Ø­Ø°Ù</button></td>
                </tr>`;
            });
        } catch (e) { l.innerText = 'ÙÙŠ ØºÙ„Ø· Ø¨Ø§Ù„Ø±Ø¨Ø· ÙŠØ§ Ø¨Ø·Ø© ğŸ˜Š'; }
    }
    async function del(id) {
        if(confirm('Ù…ØªØ£ÙƒØ¯Ø© ğŸ˜ŠØŸ')) {
            await fetch(`${API}/id/${id}`, { method: 'DELETE' });
            fetchData();
        }
    }
    window.onload = fetchData;
</script>
</body>
</html>
