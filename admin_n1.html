<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>N1 Pro - Ø§Ù„Ø±Ø¨Ø· Ø§Ù„Ù…ÙˆØ­Ø¯ ğŸ˜Š</title>
    <style>
        :root { --n1-gold: #d4af37; --n1-dark: #1a1a1a; --n1-gray: #f8f9fa; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--n1-gray); margin: 0; padding: 0; color: var(--n1-dark); text-align: center; }
        .nav-bar { background: var(--n1-dark); padding: 15px; border-bottom: 3px solid var(--n1-gold); display: flex; justify-content: center; gap: 10px; }
        .nav-bar a { color: var(--n1-gold); text-decoration: none; border: 1px solid var(--n1-gold); padding: 5px 12px; border-radius: 8px; font-weight: bold; font-size: 14px; }
        .header { background: var(--n1-dark); color: var(--n1-gold); padding: 30px; }
        .card { background: white; margin: 20px auto; padding: 25px; border-radius: 20px; max-width: 600px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .btn-n1 { background: var(--n1-dark); color: var(--n1-gold); border: 2px solid var(--n1-gold); padding: 12px 25px; border-radius: 12px; cursor: pointer; font-weight: bold; width: 100%; margin-top: 10px; }
        .res-box { margin-top: 20px; border-top: 2px solid #eee; padding-top: 20px; }
        .item { background: #fffdf5; border: 1px solid #ddd; padding: 15px; border-radius: 10px; margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center; }
        .btn-del { background: #e74c3c; color: white; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer; }
        input { width: 100%; padding: 12px; margin: 10px 0; border: 2px solid #eee; border-radius: 10px; box-sizing: border-box; }
    </style>
</head>
<body>

<div class="nav-bar">
    <a href="index.html">Ø§Ù„ØµÙØ­Ø© 1 ğŸ </a>
    <a href="company_dashboard.html">Ø§Ù„ØµÙØ­Ø© 2 ğŸ“Š</a>
    <a href="n1_pro.html" style="background: var(--n1-gold); color: var(--n1-dark);">ØªØ­ÙƒÙ… N1 âœ¨</a>
</div>

<div class="header">
    <h1>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ù…ÙˆØ­Ø¯Ø© ğŸ˜Š</h1>
    <p>Ù‡Ù†Ø§ Ù†ØªØ­ÙƒÙ… Ø¨ÙƒÙ„ Ù…Ø§ ÙŠØªÙ… Ø¥Ø¯Ø®Ø§Ù„Ù‡ ÙÙŠ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</p>
</div>

<div class="card">
    <h3>Ø¥Ø¶Ø§ÙØ© Ø·Ù„Ø¨ ÙˆÙ…Ø²Ø§Ù…Ù†ØªÙ‡ Ù…Ø¹ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© ğŸ˜Š</h3>
    <input type="text" id="custName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†Ø¯ÙˆØ¨ Ø£Ùˆ Ø§Ù„ÙƒØ§Ø¨ØªÙ†">
    <input type="text" id="custLoc" placeholder="Ø§Ù„Ù…ÙˆÙ‚Ø¹">
    <button class="btn-n1" onclick="sendData()">Ø¥Ø±Ø³Ø§Ù„ ÙˆÙ…Ø²Ø§Ù…Ù†Ø© Ù„Ù„Ø³Ø­Ø§Ø¨Ø© ğŸš€</button>
</div>

<div class="card">
    <h3>Ø¹Ø±Ø¶ ÙˆØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© ğŸ˜Š</h3>
    <button class="btn-n1" onclick="getData()" style="background: #27ae60; color: white; border: none;">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø¥ÙƒØ³Ù„ ğŸ”„</button>
    <div id="resList" class="res-box"></div>
</div>

<script>
    // Ø§Ù„Ø¬Ø³Ø± Ø§Ù„Ù…ÙˆØ­Ø¯ Ø§Ù„Ù„ÙŠ Ø¨ÙŠØ­ÙƒÙŠ Ù…Ø¹ Ø§Ù„Ø¥ÙƒØ³Ù„ Ø§Ù„Ø£ØµÙ„ÙŠ ğŸ˜Š
    const API = 'https://sheetdb.io/api/v1/qzfkwfzcpbrsm';

    async function sendData() {
        const name = document.getElementById('custName').value;
        const loc = document.getElementById('custLoc').value;
        if(!name || !loc) return alert('Ø¹Ø¨ÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙŠØ§ Ø­Ø¨Ø© Ø§Ù„Ø³ÙƒØ± ğŸ˜Š');

        try {
            await fetch(API, {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({ data: [{ name: name, location: loc, date: new Date().toLocaleDateString('ar-EG') }] })
            });
            alert('ØªÙ… Ø§Ù„Ø­ÙØ¸ ÙˆØ§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ø¹ ÙƒÙ„ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ ğŸ˜Š');
            getData();
        } catch (e) { alert('ÙÙŠ Ù…Ø´Ø§ÙƒØ³Ø© Ø¨Ø§Ù„Ø¬Ø³Ø± ğŸ˜Š'); }
    }

    async function getData() {
        const list = document.getElementById('resList');
        list.innerHTML = 'Ø¬Ø§Ø±ÙŠ Ø³Ø­Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø³Ø­Ø§Ø¨Ø©... ğŸ˜Š';
        try {
            const res = await fetch(API);
            const data = await res.json();
            list.innerHTML = '';
            data.forEach(item => {
                list.innerHTML += `
                    <div class="item">
                        <div style="text-align: right;">
                            <strong>${item.name}</strong> <br> <small>${item.location}</small>
                        </div>
                        <button class="btn-del" onclick="deleteItem('${item.name}')">Ø­Ø°Ù âŒ</button>
                    </div>
                `;
            });
        } catch (e) { list.innerHTML = 'ØªØ£ÙƒØ¯ÙŠ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø³Ø­Ø§Ø¨Ø© ÙŠØ§ Ø¨Ø·Ø© ğŸ˜Š'; }
    }

    async function deleteItem(name) {
        if(confirm(`Ø¨Ø¯Ùƒ ØªØ­Ø°ÙÙŠ Ø·Ù„Ø¨ ${name} Ù…Ù† ÙƒÙ„ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ ğŸ˜ŠØŸ`)) {
            await fetch(`${API}/name/${name}`, { method: 'DELETE' });
            alert('ØªÙ… Ø§Ù„Ù…Ø³Ø­ Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠ Ø¨Ù†Ø¬Ø§Ø­ ğŸ˜Š');
            getData();
        }
    }
</script>
</body>
</html>
